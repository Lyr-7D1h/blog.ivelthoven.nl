(this["webpackJsonpblog.ivelthoven.nl"]=this["webpackJsonpblog.ivelthoven.nl"]||[]).push([[0],{144:function(e,t,a){e.exports=a(292)},149:function(e,t,a){},150:function(e,t,a){},292:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(4),o=a.n(l),c=(a(149),a(150),a(151),a(46)),i=a(37),s=a(47),u=a(77),m=function(e,t,a){return new Promise(function(n,r){var l=new XMLHttpRequest;if(l.addEventListener("load",function(){if(200===l.status&&l.responseText)try{var e=JSON.parse(l.responseText);n(e)}catch(t){r(t)}r(new Error("Request failed with Code: ".concat(l.status," and with Body: ").concat(l.statusText)))}),l.open(e,u.a+t),"POST"===e){l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("Authorization","Basic "+btoa("".concat("admin",":").concat("d53!HR@&JjZ4WvVx%1"))),l.send(JSON.stringify(a))}else l.send()})},d=a(300),p=function(e,t){d.a.error({message:e,description:t})},f=function(e,t){d.a.success({message:e,description:t})},E=a(294),g=a(296),h=a(5),b=g.a.SubMenu,y=E.a.Sider,v=function(e){var t=e.dates,a=["January","February","March","April","May","June","July","August","September","October","November","December"],n=[],l=[];return t.forEach(function(e){-1!==n.indexOf(e.getFullYear())||n.push(e.getFullYear()),-1!==l.indexOf(e.getMonth())||l.push(e.getMonth())}),r.a.createElement(y,{width:200,style:{background:"#fff"}},r.a.createElement(g.a,{mode:"inline",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],style:{height:"100%",borderRight:0}},n.map(function(e,t){return r.a.createElement(b,{key:"index",title:r.a.createElement("span",null,r.a.createElement(h.a,{type:"snippets"}),e)},l.map(function(e,t){return r.a.createElement(g.a.Item,{key:t},a[e])}))})))},O=E.a.Header,w=function(e){var t=e.selected;return r.a.createElement(O,null,r.a.createElement("div",{className:"logo"}),r.a.createElement(g.a,{mode:"horizontal",defaultSelectedKeys:[t],style:{lineHeight:"64px",float:"left"},theme:"dark"},r.a.createElement(g.a.Item,{disabled:!0},r.a.createElement("b",null,"BLOG.IVELTHOVEN.NL")),r.a.createElement(g.a.Item,{key:"1"},r.a.createElement(c.b,{to:"/"},"Blog")),r.a.createElement(g.a.Item,{key:"2"},r.a.createElement(c.b,{to:"/projects"},"Projects")),r.a.createElement(g.a.Item,{key:"3"},r.a.createElement(c.b,{to:"/learning"},"Learning Tree"))))},x=E.a.Content,k=function(e){var t=e.blog.name;return r.a.createElement(x,{style:{background:"#fff",padding:24,margin:0,minHeight:280}}," ",t," ")},S=function(e){var t=e.items;return r.a.createElement(g.a,{mode:"horizontal",defaultSelectedKeys:"-1",style:{lineHeight:"50px",float:"center",display:"inline",paddingLeft:"20px"},theme:"light"},t.map(function(e,t){return r.a.createElement(g.a.Item,{key:t},e)}))},T=a(297),I=a(299),j=a(295),N=a(38),C=T.a.Option,q=I.a.TextArea,H=j.a.create({name:"blog_form"})(function(e){var t=e.categories,a=e.form,n=(e.onSubmit,a.getFieldDecorator);return r.a.createElement(j.a,{onSubmit:function(e){e.preventDefault(),a.validateFields(function(e,t){console.log(t),e||m("POST","blog/category",t).then(function(){f("Created")}).catch(function(e){p("Could not create",e.message)})})},className:"login-form"},r.a.createElement(j.a.Item,null,n("title",{rules:[{required:!0}]})(r.a.createElement(I.a,{type:"text",placeholder:"Title"}))),r.a.createElement(j.a.Item,null,n("category",{rules:[{required:!0}]})(r.a.createElement(T.a,{mode:"multiple",placeholder:"Category"},t.map(function(e,t){return r.a.createElement(C,{value:e.id,key:t},e.name)})))),r.a.createElement(j.a.Item,null,n("content",{rules:[{required:!0}]})(r.a.createElement(q,{placeholder:"Content",rows:"10"}))),r.a.createElement(j.a.Item,null,r.a.createElement(N.a,{type:"primary",htmlType:"submit",className:"login-form-button",block:!0},"Create")))}),L=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)([]),c=Object(s.a)(o,2),i=c[0],u=c[1],d=Object(n.useState)([]),f=Object(s.a)(d,2),g=f[0],h=f[1],b=Object(n.useState)(!1),y=Object(s.a)(b,2),O=y[0],x=y[1];return Object(n.useEffect)(function(){x("true"===document.cookie.split(new RegExp(";|="))[1]),m("GET","blog/category").then(function(e){h(e.map(function(e){return e.name})),u(e)}).catch(function(e){p("Could not fetch Blogs",e.message)}),m("GET","blog").then(function(e){l(e)}).catch(function(e){p("Could not fetch Blogs",e.message)})},[]),r.a.createElement(E.a,null,r.a.createElement(w,{selected:"1"}),r.a.createElement(E.a,null,r.a.createElement(v,{dates:[new Date,new Date]}),r.a.createElement(E.a,null,r.a.createElement(S,{items:g}),r.a.createElement("div",{style:{padding:"24px 24px 24px"}},O&&r.a.createElement(E.a,null,r.a.createElement(H,{categories:i})),"CONTENT",a&&a.map(function(e,t){return r.a.createElement(k,{blog:e,key:t})})))))},B=function(){return r.a.createElement(E.a,null,r.a.createElement(w,{selected:"2"}))},R=a(298),J=j.a.create({name:"normal_login"})(function(e){var t=e.form.getFieldDecorator;return r.a.createElement(j.a,{onSubmit:function(t){t.preventDefault(),e.form.validateFields(function(t,a){t||e.onSubmit(a)})},className:"login-form"},r.a.createElement(j.a.Item,null,t("username",{rules:[{required:!0,message:"username pls"}]})(r.a.createElement(I.a,{prefix:r.a.createElement(h.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),r.a.createElement(j.a.Item,null,t("password",{rules:[{required:!0,message:"pass pls"}]})(r.a.createElement(I.a,{prefix:r.a.createElement(h.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(j.a.Item,null,r.a.createElement(N.a,{type:"primary",htmlType:"submit",className:"login-form-button",block:!0},"Log in")))}),P=function(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),a=t[0],l=t[1];return r.a.createElement(E.a,null,r.a.createElement(w,{selected:"-1"}),r.a.createElement(E.a,null,r.a.createElement(R.a,{title:"LOGIN",visible:a,onCancel:function(){l(!1)},okButtonProps:{className:"hidden"},cancelButtonProps:{className:"hidden"}},r.a.createElement(J,{onSubmit:function(e){if(e.username&&e.password){var t=new XMLHttpRequest;t.addEventListener("load",function(){200===t.status?(document.cookie="loggedIn=true;Path=/",f("Logged In"),l(!1)):p("Request failed","".concat(t.statusText))}),t.open("POST",u.a+"auth",!0),t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("Authorization","Basic "+btoa("".concat(e.username,":").concat(e.password))),t.withCredentials=!0,t.send()}}})),a||r.a.createElement(i.a,{to:"/"})))};var D=function(){return r.a.createElement(c.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:L}),r.a.createElement(i.b,{exact:!0,path:"/projects",component:B}),r.a.createElement(i.b,{exact:!0,path:"/admin",component:P})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},77:function(e){e.exports=JSON.parse('{"a":"https://ivelthoven-api.herokuapp.com/"}')}},[[144,1,2]]]);
//# sourceMappingURL=main.84ff6989.chunk.js.map